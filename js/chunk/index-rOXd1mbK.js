import{c as o,R as u,aq as ge,d as N,H as m,_ as T,E as J,J as oe,ar as Z,g as ve,f as r,e as Ce,h as be,m as he}from"../entry/index-HYVjuyXu.js";import{f as ye,K as Q,P as $e,c as ne,d as Se,i as pe}from"./index-FvAIaAj1.js";import{p as we}from"./pickAttrs-XFrlQ5-n.js";var ie=o.createContext({});function k(e,a,t){var n=a;return!n&&t&&(n="".concat(e,"-").concat(t)),n}function ee(e,a){var t=e["page".concat(a?"Y":"X","Offset")],n="scroll".concat(a?"Top":"Left");if(typeof t!="number"){var i=e.document;t=i.documentElement[n],typeof t!="number"&&(t=i.body[n])}return t}function xe(e){var a=e.getBoundingClientRect(),t={left:a.left,top:a.top},n=e.ownerDocument,i=n.defaultView||n.parentWindow;return t.left+=ee(i),t.top+=ee(i,!0),t}const Re=o.memo(function(e){var a=e.children;return a},function(e,a){var t=a.shouldUpdate;return!t});var ae={width:0,height:0,overflow:"hidden",outline:"none"},Ne=u.forwardRef(function(e,a){var t=e.prefixCls,n=e.className,i=e.style,l=e.title,g=e.ariaId,f=e.footer,v=e.closable,S=e.closeIcon,b=e.onClose,p=e.children,h=e.bodyStyle,y=e.bodyProps,w=e.modalRender,B=e.onMouseDown,z=e.onMouseUp,L=e.holderRef,E=e.visible,P=e.forceRender,C=e.width,M=e.height,s=e.classNames,c=e.styles,F=u.useContext(ie),V=F.panel,j=ge(L,V),D=o.useRef(),A=o.useRef();u.useImperativeHandle(a,function(){return{focus:function(){var R;(R=D.current)===null||R===void 0||R.focus()},changeActive:function(R){var W=document,_=W.activeElement;R&&_===A.current?D.current.focus():!R&&_===D.current&&A.current.focus()}}});var $={};C!==void 0&&($.width=C),M!==void 0&&($.height=M);var x;f&&(x=u.createElement("div",{className:N("".concat(t,"-footer"),s==null?void 0:s.footer),style:m({},c==null?void 0:c.footer)},f));var H;l&&(H=u.createElement("div",{className:N("".concat(t,"-header"),s==null?void 0:s.header),style:m({},c==null?void 0:c.header)},u.createElement("div",{className:"".concat(t,"-title"),id:g},l)));var I;v&&(I=u.createElement("button",{type:"button",onClick:b,"aria-label":"Close",className:"".concat(t,"-close")},S||u.createElement("span",{className:"".concat(t,"-close-x")})));var O=u.createElement("div",{className:N("".concat(t,"-content"),s==null?void 0:s.content),style:c==null?void 0:c.content},I,H,u.createElement("div",T({className:N("".concat(t,"-body"),s==null?void 0:s.body),style:m(m({},h),c==null?void 0:c.body)},y),p),x);return u.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":l?g:null,"aria-modal":"true",ref:j,style:m(m({},i),$),className:N(t,n),onMouseDown:B,onMouseUp:z},u.createElement("div",{tabIndex:0,ref:D,style:ae,"aria-hidden":"true"}),u.createElement(Re,{shouldUpdate:E||P},w?w(O):O),u.createElement("div",{tabIndex:0,ref:A,style:ae,"aria-hidden":"true"}))}),re=o.forwardRef(function(e,a){var t=e.prefixCls,n=e.title,i=e.style,l=e.className,g=e.visible,f=e.forceRender,v=e.destroyOnClose,S=e.motionName,b=e.ariaId,p=e.onVisibleChanged,h=e.mousePosition,y=o.useRef(),w=o.useState(),B=J(w,2),z=B[0],L=B[1],E={};z&&(E.transformOrigin=z);function P(){var C=xe(y.current);L(h?"".concat(h.x-C.left,"px ").concat(h.y-C.top,"px"):"")}return o.createElement(oe,{visible:g,onVisibleChanged:p,onAppearPrepare:P,onEnterPrepare:P,forceRender:f,motionName:S,removeOnLeave:v,ref:y},function(C,M){var s=C.className,c=C.style;return o.createElement(Ne,T({},e,{ref:a,title:n,ariaId:b,prefixCls:t,holderRef:M,style:m(m(m({},c),i),E),className:N(l,s)}))})});re.displayName="Content";function Be(e){var a=e.prefixCls,t=e.style,n=e.visible,i=e.maskProps,l=e.motionName,g=e.className;return o.createElement(oe,{key:"mask",visible:n,motionName:l,leavedClassName:"".concat(a,"-mask-hidden")},function(f,v){var S=f.className,b=f.style;return o.createElement("div",T({ref:v,style:m(m({},b),t),className:N("".concat(a,"-mask"),S,g)},i))})}function Ee(e){var a=e.prefixCls,t=a===void 0?"rc-dialog":a,n=e.zIndex,i=e.visible,l=i===void 0?!1:i,g=e.keyboard,f=g===void 0?!0:g,v=e.focusTriggerAfterClose,S=v===void 0?!0:v,b=e.wrapStyle,p=e.wrapClassName,h=e.wrapProps,y=e.onClose,w=e.afterOpenChange,B=e.afterClose,z=e.transitionName,L=e.animation,E=e.closable,P=E===void 0?!0:E,C=e.mask,M=C===void 0?!0:C,s=e.maskTransitionName,c=e.maskAnimation,F=e.maskClosable,V=F===void 0?!0:F,j=e.maskStyle,D=e.maskProps,A=e.rootClassName,$=e.classNames,x=e.styles,H=o.useRef(),I=o.useRef(),O=o.useRef(),q=o.useState(l),R=J(q,2),W=R[0],_=R[1],le=ye();function de(){Z(I.current,document.activeElement)||(H.current=document.activeElement)}function se(){if(!Z(I.current,document.activeElement)){var d;(d=O.current)===null||d===void 0||d.focus()}}function ce(d){if(d)se();else{if(_(!1),M&&H.current&&S){try{H.current.focus({preventScroll:!0})}catch{}H.current=null}W&&(B==null||B())}w==null||w(d)}function U(d){y==null||y(d)}var G=o.useRef(!1),K=o.useRef(),me=function(){clearTimeout(K.current),G.current=!0},ue=function(){K.current=setTimeout(function(){G.current=!1})},Y=null;V&&(Y=function(X){G.current?G.current=!1:I.current===X.target&&U(X)});function fe(d){if(f&&d.keyCode===Q.ESC){d.stopPropagation(),U(d);return}l&&d.keyCode===Q.TAB&&O.current.changeActive(!d.shiftKey)}return o.useEffect(function(){l&&(_(!0),de())},[l]),o.useEffect(function(){return function(){clearTimeout(K.current)}},[]),o.createElement("div",T({className:N("".concat(t,"-root"),A)},we(e,{data:!0})),o.createElement(Be,{prefixCls:t,visible:M&&l,motionName:k(t,s,c),style:m(m({zIndex:n},j),x==null?void 0:x.mask),maskProps:D,className:$==null?void 0:$.mask}),o.createElement("div",T({tabIndex:-1,onKeyDown:fe,className:N("".concat(t,"-wrap"),p,$==null?void 0:$.wrapper),ref:I,onClick:Y,style:m(m(m({zIndex:n},b),x==null?void 0:x.wrapper),{},{display:W?null:"none"})},h),o.createElement(re,T({},e,{onMouseDown:me,onMouseUp:ue,ref:O,closable:P,ariaId:le,prefixCls:t,visible:l&&W,onClose:U,onVisibleChanged:ce,motionName:k(t,z,L)}))))}var Me=function(a){var t=a.visible,n=a.getContainer,i=a.forceRender,l=a.destroyOnClose,g=l===void 0?!1:l,f=a.afterClose,v=a.panelRef,S=o.useState(t),b=J(S,2),p=b[0],h=b[1],y=o.useMemo(function(){return{panel:v}},[v]);return o.useEffect(function(){t&&h(!0)},[t]),!i&&g&&!p?null:o.createElement(ie.Provider,{value:y},o.createElement($e,{open:t||i||p,autoDestroy:!1,getContainer:n,autoLock:t||p},o.createElement(Ee,T({},a,{destroyOnClose:g,afterClose:function(){f==null||f(),h(!1)}}))))};Me.displayName="Dialog";const He=new ne("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),Ie=new ne("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),Te=function(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:t}=e,n=`${t}-fade`,i=a?"&":"";return[Se(n,He,Ie,e.motionDurationMid,a),{[`
        ${i}${n}-enter,
        ${i}${n}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${i}${n}-leave`]:{animationTimingFunction:"linear"}}]};function te(e){return{position:e,inset:0}}const ze=e=>{const{componentCls:a,antCls:t}=e;return[{[`${a}-root`]:{[`${a}${t}-zoom-enter, ${a}${t}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},[`${a}${t}-zoom-leave ${a}-content`]:{pointerEvents:"none"},[`${a}-mask`]:Object.assign(Object.assign({},te("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,pointerEvents:"none",[`${a}-hidden`]:{display:"none"}}),[`${a}-wrap`]:Object.assign(Object.assign({},te("fixed")),{zIndex:e.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch",[`&:has(${a}${t}-zoom-enter), &:has(${a}${t}-zoom-appear)`]:{pointerEvents:"none"}})}},{[`${a}-root`]:Te(e)}]},Pe=e=>{const{componentCls:a}=e;return[{[`${a}-root`]:{[`${a}-wrap-rtl`]:{direction:"rtl"},[`${a}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[a]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${e.screenSMMax}px)`]:{[a]:{maxWidth:"calc(100vw - 16px)",margin:`${r(e.marginXS)} auto`},[`${a}-centered`]:{[a]:{flex:1}}}}},{[a]:Object.assign(Object.assign({},Ce(e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${r(e.calc(e.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:e.paddingLG,[`${a}-title`]:{margin:0,color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.titleFontSize,lineHeight:e.titleLineHeight,wordWrap:"break-word"},[`${a}-content`]:{position:"relative",backgroundColor:e.contentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadow,pointerEvents:"auto",padding:e.contentPadding},[`${a}-close`]:Object.assign({position:"absolute",top:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),insetInlineEnd:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),zIndex:e.calc(e.zIndexPopupBase).add(10).equal(),padding:0,color:e.modalCloseIconColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalCloseBtnSize,height:e.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${e.motionDurationMid}, background-color ${e.motionDurationMid}`,"&-x":{display:"flex",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:`${r(e.modalCloseBtnSize)}`,justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:hover":{color:e.modalIconHoverColor,backgroundColor:e.closeBtnHoverBg,textDecoration:"none"},"&:active":{backgroundColor:e.closeBtnActiveBg}},be(e)),[`${a}-header`]:{color:e.colorText,background:e.headerBg,borderRadius:`${r(e.borderRadiusLG)} ${r(e.borderRadiusLG)} 0 0`,marginBottom:e.headerMarginBottom,padding:e.headerPadding,borderBottom:e.headerBorderBottom},[`${a}-body`]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word",padding:e.bodyPadding},[`${a}-footer`]:{textAlign:"end",background:e.footerBg,marginTop:e.footerMarginTop,padding:e.footerPadding,borderTop:e.footerBorderTop,borderRadius:e.footerBorderRadius,[`> ${e.antCls}-btn + ${e.antCls}-btn`]:{marginInlineStart:e.marginXS}},[`${a}-open`]:{overflow:"hidden"}})},{[`${a}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${a}-content,
          ${a}-body,
          ${a}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${a}-confirm-body`]:{marginBottom:"auto"}}}]},De=e=>{const{componentCls:a}=e;return{[`${a}-root`]:{[`${a}-wrap-rtl`]:{direction:"rtl",[`${a}-confirm-body`]:{direction:"rtl"}}}}},Oe=e=>{const a=e.padding,t=e.fontSizeHeading5,n=e.lineHeightHeading5;return he(e,{modalHeaderHeight:e.calc(e.calc(n).mul(t).equal()).add(e.calc(a).mul(2).equal()).equal(),modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterBorderWidth:e.lineWidth,modalIconHoverColor:e.colorIconHover,modalCloseIconColor:e.colorIcon,modalCloseBtnSize:e.fontHeight,modalConfirmIconSize:e.fontHeight,modalTitleHeight:e.calc(e.titleFontSize).mul(e.titleLineHeight).equal()})},Le=e=>({footerBg:"transparent",headerBg:e.colorBgElevated,titleLineHeight:e.lineHeightHeading5,titleFontSize:e.fontSizeHeading5,contentBg:e.colorBgElevated,titleColor:e.colorTextHeading,closeBtnHoverBg:e.wireframe?"transparent":e.colorFillContent,closeBtnActiveBg:e.wireframe?"transparent":e.colorFillContentHover,contentPadding:e.wireframe?0:`${r(e.paddingMD)} ${r(e.paddingContentHorizontalLG)}`,headerPadding:e.wireframe?`${r(e.padding)} ${r(e.paddingLG)}`:0,headerBorderBottom:e.wireframe?`${r(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",headerMarginBottom:e.wireframe?0:e.marginXS,bodyPadding:e.wireframe?e.paddingLG:0,footerPadding:e.wireframe?`${r(e.paddingXS)} ${r(e.padding)}`:0,footerBorderTop:e.wireframe?`${r(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",footerBorderRadius:e.wireframe?`0 0 ${r(e.borderRadiusLG)} ${r(e.borderRadiusLG)}`:0,footerMarginTop:e.wireframe?0:e.marginSM,confirmBodyPadding:e.wireframe?`${r(e.padding*2)} ${r(e.padding*2)} ${r(e.paddingLG)}`:0,confirmIconMarginInlineEnd:e.wireframe?e.margin:e.marginSM,confirmBtnsMarginTop:e.wireframe?e.marginLG:e.marginSM}),Fe=ve("Modal",e=>{const a=Oe(e);return[Pe(a),De(a),ze(a),pe(a,"zoom")]},Le,{unitless:{titleLineHeight:!0}});export{Me as D,Ne as P,Oe as a,ze as g,Te as i,Le as p,Fe as u};
