import{c as r,k as T,R as v,a3 as Ee,ad as $e,B as Y,ae as je,af as Te,ag as U,C as z,d as S,ah as Ne,ai as we,aj as Se,f as ke,ak as J,al as Ie,a5 as Fe,a6 as Be,am as Me,an as Re,ao as Le,ap as ze,P as Ae}from"../entry/index-HYVjuyXu.js";import{I as De}from"./index-Ofe16QpN.js";import{C as W,a as K,b as We,z as _e,g as L,e as He}from"./index-FvAIaAj1.js";import{A as ee,w as Ve}from"./DownOutlined-Lu0pb220.js";import{u as te,D as qe,p as Qe,a as Xe,P as Ge}from"./index-rOXd1mbK.js";import{N as Ze}from"./index-vkfpJKNu.js";import{u as _}from"./collapse-as1LdTNY.js";function Ye(){const[e,n]=r.useState([]),l=r.useCallback(t=>(n(o=>[].concat(T(o),[t])),()=>{n(o=>o.filter(s=>s!==t))}),[]);return[e,l]}const B=v.createContext({}),{Provider:ne}=B,Ue=()=>{const{autoFocusButton:e,cancelButtonProps:n,cancelTextLocale:l,isSilent:t,mergedOkCancel:o,rootPrefixCls:s,close:f,onCancel:u,onConfirm:c}=r.useContext(B);return o?v.createElement(ee,{isSilent:t,actionFn:u,close:function(){f==null||f.apply(void 0,arguments),c==null||c(!1)},autoFocus:e==="cancel",buttonProps:n,prefixCls:`${s}-btn`},l):null},V=Ue,Je=()=>{const{autoFocusButton:e,close:n,isSilent:l,okButtonProps:t,rootPrefixCls:o,okTextLocale:s,okType:f,onConfirm:u,onOk:c}=r.useContext(B);return v.createElement(ee,{isSilent:l,type:f||"primary",actionFn:c,close:function(){n==null||n.apply(void 0,arguments),u==null||u(!0)},autoFocus:e==="ok",buttonProps:t,prefixCls:`${o}-btn`},s)},q=Je;function Ke(e,n,l){return typeof e=="boolean"?e:n===void 0?!!l:n!==!1&&n!==null}function et(e,n,l){let t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:v.createElement(W,null),o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(!Ke(e,n,o))return[!1,null];const f=typeof n=="boolean"||n===void 0||n===null?t:n;return[!0,l?l(f):f]}const tt=()=>Ee()&&window.document.documentElement;function Q(){}const nt=r.createContext({add:Q,remove:Q});function ot(e){const n=r.useContext(nt),l=r.useRef();return $e(o=>{if(o){const s=e?o.querySelector(e):o;n.add(s),l.current=s}else n.remove(l.current)})}const lt=()=>{const{cancelButtonProps:e,cancelTextLocale:n,onCancel:l}=r.useContext(B);return v.createElement(Y,Object.assign({onClick:l},e),n)},X=lt,rt=()=>{const{confirmLoading:e,okButtonProps:n,okType:l,okTextLocale:t,onOk:o}=r.useContext(B);return v.createElement(Y,Object.assign({},je(l),{loading:e,onClick:o},n),t)},G=rt;function oe(e,n){return v.createElement("span",{className:`${e}-close-x`},n||v.createElement(W,{className:`${e}-close-icon`}))}const le=e=>{const{okText:n,okType:l="primary",cancelText:t,confirmLoading:o,onOk:s,onCancel:f,okButtonProps:u,cancelButtonProps:c,footer:i}=e,[a]=_("Modal",U()),m=n||(a==null?void 0:a.okText),x=t||(a==null?void 0:a.cancelText),d={confirmLoading:o,okButtonProps:u,cancelButtonProps:c,okTextLocale:m,cancelTextLocale:x,okType:l,onOk:s,onCancel:f},y=v.useMemo(()=>d,T(Object.values(d)));let g;return typeof i=="function"||typeof i>"u"?(g=v.createElement(v.Fragment,null,v.createElement(X,null),v.createElement(G,null)),typeof i=="function"&&(g=i(g,{OkBtn:G,CancelBtn:X})),g=v.createElement(ne,{value:y},g)):g=i,v.createElement(Te,{disabled:!1},g)};var at=function(e,n){var l={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(l[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(l[t[o]]=e[t[o]]);return l};let D;const st=e=>{D={x:e.pageX,y:e.pageY},setTimeout(()=>{D=null},100)};tt()&&document.documentElement.addEventListener("click",st,!0);const re=e=>{var n;const{getPopupContainer:l,getPrefixCls:t,direction:o,modal:s}=r.useContext(z),f=F=>{const{onCancel:N}=e;N==null||N(F)},u=F=>{const{onOk:N}=e;N==null||N(F)},{prefixCls:c,className:i,rootClassName:a,open:m,wrapClassName:x,centered:d,getContainer:y,closeIcon:g,closable:p,focusTriggerAfterClose:C=!0,style:b,visible:P,width:O=520,footer:j,classNames:$,styles:A}=e,k=at(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","closeIcon","closable","focusTriggerAfterClose","style","visible","width","footer","classNames","styles"]),h=t("modal",c),I=t(),R=K(h),[ge,H,be]=te(h,R),xe=S(x,{[`${h}-centered`]:!!d,[`${h}-wrap-rtl`]:o==="rtl"}),pe=j!==null&&r.createElement(le,Object.assign({},e,{onOk:u,onCancel:f})),[ve,ye]=et(p,g,F=>oe(h,F),r.createElement(W,{className:`${h}-close-icon`}),!0),Oe=ot(`.${h}-content`),[Pe,he]=We("Modal",k.zIndex);return ge(r.createElement(Ne,null,r.createElement(Ze,{status:!0,override:!0},r.createElement(_e.Provider,{value:he},r.createElement(qe,Object.assign({width:O},k,{zIndex:Pe,getContainer:y===void 0?l:y,prefixCls:h,rootClassName:S(H,a,be,R),footer:pe,visible:m??P,mousePosition:(n=k.mousePosition)!==null&&n!==void 0?n:D,onClose:f,closable:ve,closeIcon:ye,focusTriggerAfterClose:C,transitionName:L(I,"zoom",e.transitionName),maskTransitionName:L(I,"fade",e.maskTransitionName),className:S(H,i,s==null?void 0:s.className),style:Object.assign(Object.assign({},s==null?void 0:s.style),b),classNames:Object.assign(Object.assign({wrapper:xe},s==null?void 0:s.classNames),$),styles:Object.assign(Object.assign({},s==null?void 0:s.styles),A),panelRef:Oe}))))))},ct=e=>{const{componentCls:n,titleFontSize:l,titleLineHeight:t,modalConfirmIconSize:o,fontSize:s,lineHeight:f,modalTitleHeight:u,fontHeight:c,confirmBodyPadding:i}=e,a=`${n}-confirm`;return{[a]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${a}-body-wrapper`]:Object.assign({},Se()),[`&${n} ${n}-body`]:{padding:i},[`${a}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:o,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(c).sub(o).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(u).sub(o).equal()).div(2).equal()}},[`${a}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:`calc(100% - ${ke(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${a}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:l,lineHeight:t},[`${a}-content`]:{color:e.colorText,fontSize:s,lineHeight:f},[`${a}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${a}-error ${a}-body > ${e.iconCls}`]:{color:e.colorError},[`${a}-warning ${a}-body > ${e.iconCls},
        ${a}-confirm ${a}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${a}-info ${a}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${a}-success ${a}-body > ${e.iconCls}`]:{color:e.colorSuccess}}},it=we(["Modal","confirm"],e=>{const n=Xe(e);return[ct(n)]},Qe,{order:-1e3});var ut=function(e,n){var l={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(l[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(l[t[o]]=e[t[o]]);return l};function ae(e){const{prefixCls:n,icon:l,okText:t,cancelText:o,confirmPrefixCls:s,type:f,okCancel:u,footer:c,locale:i}=e,a=ut(e,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let m=l;if(!l&&l!==null)switch(f){case"info":m=r.createElement(De,null);break;case"success":m=r.createElement(Be,null);break;case"error":m=r.createElement(Fe,null);break;default:m=r.createElement(Ie,null)}const x=u??f==="confirm",d=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",[y]=_("Modal"),g=i||y,p=t||(x?g==null?void 0:g.okText:g==null?void 0:g.justOkText),C=o||(g==null?void 0:g.cancelText),b=Object.assign({autoFocusButton:d,cancelTextLocale:C,okTextLocale:p,mergedOkCancel:x},a),P=r.useMemo(()=>b,T(Object.values(b))),O=r.createElement(r.Fragment,null,r.createElement(V,null),r.createElement(q,null)),j=e.title!==void 0&&e.title!==null,$=`${s}-body`;return r.createElement("div",{className:`${s}-body-wrapper`},r.createElement("div",{className:S($,{[`${$}-has-title`]:j})},m,r.createElement("div",{className:`${s}-paragraph`},j&&r.createElement("span",{className:`${s}-title`},e.title),r.createElement("div",{className:`${s}-content`},e.content))),c===void 0||typeof c=="function"?r.createElement(ne,{value:P},r.createElement("div",{className:`${s}-btns`},typeof c=="function"?c(O,{OkBtn:q,CancelBtn:V}):O)):c,r.createElement(it,{prefixCls:n}))}const ft=e=>{const{close:n,zIndex:l,afterClose:t,open:o,keyboard:s,centered:f,getContainer:u,maskStyle:c,direction:i,prefixCls:a,wrapClassName:m,rootPrefixCls:x,bodyStyle:d,closable:y=!1,closeIcon:g,modalRender:p,focusTriggerAfterClose:C,onConfirm:b,styles:P}=e,O=`${a}-confirm`,j=e.width||416,$=e.style||{},A=e.mask===void 0?!0:e.mask,k=e.maskClosable===void 0?!1:e.maskClosable,h=S(O,`${O}-${e.type}`,{[`${O}-rtl`]:i==="rtl"},e.className),[,I]=Me(),R=r.useMemo(()=>l!==void 0?l:I.zIndexPopupBase+He,[l,I]);return r.createElement(re,{prefixCls:a,className:h,wrapClassName:S({[`${O}-centered`]:!!e.centered},m),onCancel:()=>{n==null||n({triggerCancel:!0}),b==null||b(!1)},open:o,title:"",footer:null,transitionName:L(x||"","zoom",e.transitionName),maskTransitionName:L(x||"","fade",e.maskTransitionName),mask:A,maskClosable:k,style:$,styles:Object.assign({body:d,mask:c},P),width:j,zIndex:R,afterClose:t,keyboard:s,centered:f,getContainer:u,closable:y,closeIcon:g,modalRender:p,focusTriggerAfterClose:C},r.createElement(ae,Object.assign({},e,{confirmPrefixCls:O})))},mt=e=>{const{rootPrefixCls:n,iconPrefixCls:l,direction:t,theme:o}=e;return r.createElement(J,{prefixCls:n,iconPrefixCls:l,direction:t,theme:o},r.createElement(ft,Object.assign({},e)))},se=mt,w=[];let ce="";function dt(){return ce}const Ct=e=>{var n,l;const{prefixCls:t,getContainer:o,direction:s}=e,f=U(),u=r.useContext(z),c=t||dt()||u.getPrefixCls(),i=t||`${c}-modal`;let a=o;return a===!1&&(a=void 0),v.createElement(se,Object.assign({},e,{rootPrefixCls:c,prefixCls:i,iconPrefixCls:u.iconPrefixCls,theme:u.theme,direction:s??u.direction,locale:(l=(n=u.locale)===null||n===void 0?void 0:n.Modal)!==null&&l!==void 0?l:f,getContainer:a}))};function M(e){const n=ze(),l=document.createDocumentFragment();let t=Object.assign(Object.assign({},e),{close:u,open:!0}),o;function s(){for(var i=arguments.length,a=new Array(i),m=0;m<i;m++)a[m]=arguments[m];const x=a.some(d=>d&&d.triggerCancel);e.onCancel&&x&&e.onCancel.apply(e,[()=>{}].concat(T(a.slice(1))));for(let d=0;d<w.length;d++)if(w[d]===u){w.splice(d,1);break}Re(l)}function f(i){clearTimeout(o),o=setTimeout(()=>{const a=n.getRootPrefixCls(),m=n.getIconPrefixCls(),x=n.getTheme(),d=v.createElement(Ct,Object.assign({},i));Le(v.createElement(J,{prefixCls:a,iconPrefixCls:m,theme:x},n.holderRender?n.holderRender(d):d),l)})}function u(){for(var i=arguments.length,a=new Array(i),m=0;m<i;m++)a[m]=arguments[m];t=Object.assign(Object.assign({},t),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),s.apply(this,a)}}),t.visible&&delete t.visible,f(t)}function c(i){typeof i=="function"?t=i(t):t=Object.assign(Object.assign({},t),i),f(t)}return f(t),w.push(u),{destroy:u,update:c}}function ie(e){return Object.assign(Object.assign({},e),{type:"warning"})}function ue(e){return Object.assign(Object.assign({},e),{type:"info"})}function fe(e){return Object.assign(Object.assign({},e),{type:"success"})}function me(e){return Object.assign(Object.assign({},e),{type:"error"})}function de(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function gt(e){let{rootPrefixCls:n}=e;ce=n}var bt=function(e,n){var l={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(l[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(l[t[o]]=e[t[o]]);return l};const xt=(e,n)=>{var l,{afterClose:t,config:o}=e,s=bt(e,["afterClose","config"]);const[f,u]=r.useState(!0),[c,i]=r.useState(o),{direction:a,getPrefixCls:m}=r.useContext(z),x=m("modal"),d=m(),y=()=>{var b;t(),(b=c.afterClose)===null||b===void 0||b.call(c)},g=function(){u(!1);for(var b=arguments.length,P=new Array(b),O=0;O<b;O++)P[O]=arguments[O];const j=P.some($=>$&&$.triggerCancel);c.onCancel&&j&&c.onCancel.apply(c,[()=>{}].concat(T(P.slice(1))))};r.useImperativeHandle(n,()=>({destroy:g,update:b=>{i(P=>Object.assign(Object.assign({},P),b))}}));const p=(l=c.okCancel)!==null&&l!==void 0?l:c.type==="confirm",[C]=_("Modal",Ae.Modal);return r.createElement(se,Object.assign({prefixCls:x,rootPrefixCls:d},c,{close:g,open:f,afterClose:y,okText:c.okText||(p?C==null?void 0:C.okText:C==null?void 0:C.justOkText),direction:c.direction||a,cancelText:c.cancelText||(C==null?void 0:C.cancelText)},s))},pt=r.forwardRef(xt);let Z=0;const vt=r.memo(r.forwardRef((e,n)=>{const[l,t]=Ye();return r.useImperativeHandle(n,()=>({patchElement:t}),[]),r.createElement(r.Fragment,null,l)}));function yt(){const e=r.useRef(null),[n,l]=r.useState([]);r.useEffect(()=>{n.length&&(T(n).forEach(f=>{f()}),l([]))},[n]);const t=r.useCallback(s=>function(u){var c;Z+=1;const i=r.createRef();let a;const m=new Promise(p=>{a=p});let x=!1,d;const y=r.createElement(pt,{key:`modal-${Z}`,config:s(u),ref:i,afterClose:()=>{d==null||d()},isSilent:()=>x,onConfirm:p=>{a(p)}});return d=(c=e.current)===null||c===void 0?void 0:c.patchElement(y),d&&w.push(d),{destroy:()=>{function p(){var C;(C=i.current)===null||C===void 0||C.destroy()}i.current?p():l(C=>[].concat(T(C),[p]))},update:p=>{function C(){var b;(b=i.current)===null||b===void 0||b.update(p)}i.current?C():l(b=>[].concat(T(b),[C]))},then:p=>(x=!0,m.then(p))}},[]);return[r.useMemo(()=>({info:t(ue),success:t(fe),error:t(me),warning:t(ie),confirm:t(de)}),[]),r.createElement(vt,{key:"modal-holder",ref:e})]}var Ot=function(e,n){var l={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(l[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(l[t[o]]=e[t[o]]);return l};const Pt=e=>{const{prefixCls:n,className:l,closeIcon:t,closable:o,type:s,title:f,children:u,footer:c}=e,i=Ot(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:a}=r.useContext(z),m=a(),x=n||a("modal"),d=K(m),[y,g,p]=te(x,d),C=`${x}-confirm`;let b={};return s?b={closable:o??!1,title:"",footer:"",children:r.createElement(ae,Object.assign({},e,{prefixCls:x,confirmPrefixCls:C,rootPrefixCls:m,content:u}))}:b={closable:o??!0,title:f,footer:c!==null&&r.createElement(le,Object.assign({},e)),children:u},y(r.createElement(Ge,Object.assign({prefixCls:x,className:S(g,`${x}-pure-panel`,s&&C,s&&`${C}-${s}`,l,p,d)},i,{closeIcon:oe(x,t),closable:o},b)))},ht=Ve(Pt);function Ce(e){return M(ie(e))}const E=re;E.useModal=yt;E.info=function(n){return M(ue(n))};E.success=function(n){return M(fe(n))};E.error=function(n){return M(me(n))};E.warning=Ce;E.warn=Ce;E.confirm=function(n){return M(de(n))};E.destroyAll=function(){for(;w.length;){const n=w.pop();n&&n()}};E.config=gt;E._InternalPanelDoNotUseOrYouWillBeFired=ht;export{E as M};
