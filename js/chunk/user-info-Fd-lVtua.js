import{b as i,j as e}from"../entry/index-ge0NekOz.js";import{a as m}from"./user-api-89TVImzF.js";import{u as l,b as u}from"./user-store-YnpulJaL.js";import{u as d}from"./hooks-sW-_MWQ4.js";import"./warning-bqm8fXvA.js";import{u as p}from"./useForm-FaxGBFcg.js";import"./index-qrTuUBDD.js";import"./createSuper-SHSzYSZc.js";const F=()=>{const t=l(u),r=i(),[s]=p(),a=d("PUT"),n=o=>{a||r(o,{method:"PUT"})};return e.jsxs(antd.Form,{style:{maxWidth:600},labelCol:{span:4},wrapperCol:{span:12},onFinish:n,initialValues:t,autoComplete:"off",form:s,children:[e.jsx(antd.Form.Item,{label:"id",name:"id",hidden:!0,children:e.jsx(antd.Input,{readOnly:!0})}),e.jsx(antd.Form.Item,{label:"昵称",name:"nickname",rules:[{required:!0,message:"请输入昵称"}],children:e.jsx(antd.Input,{})}),e.jsx(antd.Form.Item,{label:"邮箱",name:"email",rules:[{required:!0,message:"请输入邮箱"},{pattern:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,message:"请输入正确的邮箱格式"}],children:e.jsx(antd.Input,{})}),e.jsx(antd.Form.Item,{wrapperCol:{offset:4},children:e.jsxs(antd.Space,{direction:"horizontal",children:[e.jsx(antd.Button,{type:"primary",htmlType:"submit",loading:a&&{delay:200},children:"保存"}),e.jsx(antd.Button,{type:"default",onClick:()=>s.setFieldsValue(t),children:"重置"})]})})]})},g=async({request:t})=>{const r=await t.formData();try{await m(r)}catch{return null}return antd.message.success("更新成功！"),null};export{g as action,F as default};
