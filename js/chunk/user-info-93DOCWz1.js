import{b as u,j as e,B as n}from"../entry/index-HYVjuyXu.js";import{a as c}from"./user-api-kpygNglZ.js";import{u as p,b as d}from"./user-store-uoBPJTvm.js";import{u as f}from"./hooks-6wdiGh58.js";import{u as h,F as s,I as o}from"./index-vkfpJKNu.js";import{S as x}from"./index-FvAIaAj1.js";import{s as j}from"./index-Ofe16QpN.js";import"./EyeOutlined-9LXoceyI.js";import"./collapse-as1LdTNY.js";const z=()=>{const t=p(d),r=u(),[a]=h(),i=f("PUT"),m=l=>{i||r(l,{method:"PUT"})};return e.jsxs(s,{style:{maxWidth:600},labelCol:{span:4},wrapperCol:{span:12},onFinish:m,initialValues:t,autoComplete:"off",form:a,children:[e.jsx(s.Item,{label:"id",name:"id",hidden:!0,children:e.jsx(o,{readOnly:!0})}),e.jsx(s.Item,{label:"昵称",name:"nickname",rules:[{required:!0,message:"请输入昵称"}],children:e.jsx(o,{})}),e.jsx(s.Item,{label:"邮箱",name:"email",rules:[{required:!0,message:"请输入邮箱"},{pattern:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,message:"请输入正确的邮箱格式"}],children:e.jsx(o,{})}),e.jsx(s.Item,{wrapperCol:{offset:4},children:e.jsxs(x,{direction:"horizontal",children:[e.jsx(n,{type:"primary",htmlType:"submit",loading:i&&{delay:200},children:"保存"}),e.jsx(n,{type:"default",onClick:()=>a.setFieldsValue(t),children:"重置"})]})})]})},A=async({request:t})=>{const r=await t.formData();try{await c(r)}catch{return null}return j.success("更新成功！"),null};export{A as action,z as default};
